"use strict";(self.webpackChunkGenSdk=self.webpackChunkGenSdk||[]).push([[122],{31122:(e,t,r)=>{r.r(t),r.d(t,{IFrameEthereumProvider:()=>d,RpcError:()=>f});var n=r(26729);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t,r){return s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o},s.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},l(e)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var f=function(e){function t(t,r){var n;return(n=e.call(this,t+": "+r)||this).isRpcError=!0,n.code=t,n.reason=r,n}return c(t,e),t}(l(Error)),d=function(e){function t(t){var r,n=void 0===t?{}:t,o=n.targetOrigin,i=void 0===o?"*":o,c=n.timeoutMilliseconds,a=void 0===c?24e4:c,u=n.eventSource,s=void 0===u?window:u,l=n.eventTarget,f=void 0===l?window.parent:l;return(r=e.call(this)||this).enabled=null,r.completers={},r.handleEventSourceMessage=function(e){var t=e.data;if(t){var n=t;if("2.0"===n.jsonrpc){if(void 0!==n.id&&null!==n.id){var o=r.completers[""+n.id];o&&("error"in n||"result"in n?o.resolve(n):o.reject(new Error("Response from provider did not have error or result key")),delete r.completers[n.id])}if("method"in n)switch(n.method){case"notification":r.emitNotification(n.params);break;case"connect":r.emitConnect();break;case"close":r.emitClose(n.params[0],n.params[1]);break;case"chainChanged":r.emitChainChanged(n.params[0]);break;case"networkChanged":r.emitNetworkChanged(n.params[0]);break;case"accountsChanged":r.emitAccountsChanged(n.params[0])}}}},r.targetOrigin=i,r.timeoutMilliseconds=a,r.eventSource=s,r.eventTarget=f,r.eventSource.addEventListener("message",r.handleEventSourceMessage),r}c(t,e);var r,n,a=t.prototype;return a.execute=function(e,t,r){try{var n=this,o=r||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),c=i({jsonrpc:"2.0",id:o,method:e},void 0===t?null:{params:t}),a=new Promise((function(e,t){return n.completers[o]={resolve:e,reject:t}}));return n.eventTarget.postMessage(c,n.targetOrigin),setTimeout((function(){n.completers[o]&&(n.completers[o].reject(new Error('RPC ID "'+o+'" timed out after '+n.timeoutMilliseconds+" milliseconds")),delete n.completers[o])}),n.timeoutMilliseconds),Promise.resolve(a)}catch(e){return Promise.reject(e)}},a.send=function(e,t){try{return Promise.resolve(this.execute(e,t)).then((function(e){if("error"in e)throw new f(e.error.code,e.error.message);return e.result}))}catch(e){return Promise.reject(e)}},a.enable=function(){try{var e=this;if(null===e.enabled)var t=e.enabled=e.send("enable").catch((function(r){throw e.enabled===t&&(e.enabled=null),r}));return Promise.resolve(e.enabled)}catch(e){return Promise.reject(e)}},a.sendAsync=function(e,t){try{var r=this,n=function(n,o){try{var i=Promise.resolve(r.execute(e.method,e.params,e.id)).then((function(e){t(null,e)}))}catch(e){return o(e)}return i&&i.then?i.then(void 0,o):i}(0,(function(e){t(e,null)}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},a.emitNotification=function(e){this.emit("notification",e)},a.emitConnect=function(){null===this.enabled&&(this.enabled=Promise.resolve([])),this.emit("connect")},a.emitClose=function(e,t){this.emit("close",e,t)},a.emitChainChanged=function(e){this.emit("chainChanged",e)},a.emitNetworkChanged=function(e){this.emit("networkChanged",e)},a.emitAccountsChanged=function(e){this.enabled=Promise.resolve(e),this.emit("accountsChanged",e)},r=t,(n=[{key:"isIFrame",get:function(){return!0}},{key:"currentProvider",get:function(){return this}}])&&o(r.prototype,n),t}(n.EventEmitter)}}]);